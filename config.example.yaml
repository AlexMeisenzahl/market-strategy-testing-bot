# Polymarket Arbitrage Bot Configuration
# Paper Trading Mode - NO REAL MONEY
#
# This is a comprehensive configuration file that includes:
# - Free data sources (Binance, CoinGecko, Polymarket Subgraph)
# - Optional Live Polymarket API integration
# - Enhanced notification system
# - Market filtering options
# - Rate limiting and safety features

# ============================================================================
# SAFETY SETTINGS (DO NOT CHANGE UNLESS YOU KNOW WHAT YOU'RE DOING)
# ============================================================================

# Paper trading: MUST be true for safety
paper_trading: true

# Kill switch: Set to true to immediately stop all trading
kill_switch: false

# ============================================================================
# DATA SOURCES (FREE APIS)
# ============================================================================
data_sources:
  crypto_prices:
    primary: binance          # Free, 1200 req/min
    fallback: coingecko      # Free, 50 req/min
    use_websocket: true      # Real-time price streams
  
  polymarket:
    method: subgraph         # Default: Free GraphQL (unlimited)
    cache_ttl_seconds: 60

# ============================================================================
# TRADING PARAMETERS
# ============================================================================

# Maximum amount to trade per opportunity (in USD, paper money)
max_trade_size: 10

# Minimum profit margin required (0.02 = 2%)
min_profit_margin: 0.02

# Maximum trades per hour (rate limiting)
max_trades_per_hour: 5

# Maximum daily trades
max_trades_per_day: 50

# ============================================================================
# POLYMARKET API CONFIGURATION (OPTIONAL ENHANCEMENT)
# ============================================================================

polymarket:
  api:
    # Enable Live API (optional - requires network access)
    # If disabled, uses FREE Subgraph instead (no API keys needed)
    enabled: false           # Set to true for Live CLOB API with Subgraph fallback
    
    # API base URL (do not change unless using a different endpoint)
    base_url: "https://clob.polymarket.com"
    
    # Rate limiting (requests per minute)
    rate_limit: 60
    
    # Request timeout in seconds
    timeout: 10
    
    # Number of retry attempts on failure
    retry_attempts: 3
  
  # Market filtering options
  market_filters:
    # Minimum liquidity in USD
    min_liquidity: 1000
    
    # Minimum 24h volume in USD
    min_volume_24h: 5000
    
    # Categories to filter by (empty array = all categories)
    # Options: 'crypto', 'politics', 'sports', 'entertainment', 'science', 'business'
    categories: []
    
# ============================================================================
# MARKET SELECTION
# ============================================================================

# Specific markets to watch (optional keywords to filter markets)
# If empty, bot will scan all active markets matching the filters above
# Examples: ["Bitcoin", "Ethereum", "Trump", "Election"]
markets_to_watch: []

# ============================================================================
# API SETTINGS
# ============================================================================

# API request timeout in seconds
api_timeout_seconds: 5

# Maximum retry attempts for API requests
max_retries: 3

# Delay between API requests (seconds)
request_delay_seconds: 0.5

# Rate limit settings
rate_limit_max: 100
rate_limit_warning_threshold: 0.80
rate_limit_pause_threshold: 0.95

# Auto-pause trading on connection loss
auto_pause_on_connection_loss: true

# ============================================================================
# NOTIFICATIONS
# ============================================================================

notifications:
  # Desktop notifications
  desktop:
    enabled: true
    event_types:
      trade: true              # Notify on trade execution
      opportunity: true        # Notify on arbitrage opportunity found
      error: true             # Notify on errors
      summary: true           # Notify on daily/hourly summaries
      status_change: true     # Notify on bot status changes
  
  # Email notifications
  email:
    enabled: false
    event_types:
      trade: true
      opportunity: false      # Too frequent for email
      error: true
      summary: true
      status_change: true
  
  # Telegram notifications
  telegram:
    enabled: false
    event_types:
      trade: true
      opportunity: true
      error: true
      summary: true
      status_change: true
  
  # Rate limiting for notifications (prevent spam)
  rate_limiting:
    enabled: true
    max_per_hour: 20         # Maximum notifications per hour
    max_per_minute: 5        # Maximum notifications per minute
    cooldown_seconds: 30     # Cooldown after reaching limit
  
  # Quiet hours (optional - notifications paused during these hours)
  quiet_hours:
    enabled: false
    start_time: "23:00"      # 11:00 PM
    end_time: "07:00"        # 7:00 AM
    timezone: "America/New_York"

# Legacy notification settings (for backward compatibility)
desktop_notifications: true
sound_alerts: false

# ============================================================================
# NOTIFICATION TRIGGERS
# ============================================================================

notification_triggers:
  # High-value opportunity alert
  high_value_opportunity:
    enabled: true
    min_profit_percent: 5.0  # Alert on opportunities with >5% profit
    channels: ['desktop']    # Can include: desktop, email, telegram
  
  # API connection loss alert
  api_connection_loss:
    enabled: true
    channels: ['desktop']
  
  # Daily profit milestone alert
  daily_profit_milestone:
    enabled: true
    threshold_percent: 10    # Alert when daily profit exceeds 10%
    channels: ['desktop']

# ============================================================================
# TELEGRAM CONFIGURATION (Optional)
# ============================================================================

telegram:
  enabled: false
  bot_token: ""              # Your Telegram bot token
  chat_id: ""                # Your Telegram chat ID

# ============================================================================
# EMAIL CONFIGURATION (Optional)
# ============================================================================

email:
  enabled: false
  from_email: ""             # Sender email address
  to_email: ""               # Recipient email address
  smtp_server: "smtp.gmail.com"
  smtp_port: 587
  password: ""               # Email app password (not your regular password)

# ============================================================================
# RISK MANAGEMENT
# ============================================================================

# Stop trading if daily loss exceeds this amount (USD)
max_daily_loss: 100

# Stop trading if total loss exceeds this amount (USD)
max_total_loss: 500

# Circuit breaker: Pause trading after X consecutive losses
circuit_breaker_losses: 3

# Cool-down period after circuit breaker (seconds)
circuit_breaker_cooldown: 300

# ============================================================================
# LOGGING
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
log_level: INFO

# Keep logs for this many days
log_retention_days: 30

# ============================================================================
# DASHBOARD
# ============================================================================

dashboard:
  # Web dashboard port
  port: 5000
  
  # Enable debug mode (for development only)
  debug: false
  
  # Pagination settings
  trades_per_page: 25
  opportunities_per_page: 50

# ============================================================================
# CRYPTO APIS CONFIGURATION
# ============================================================================

crypto_apis:
  coingecko:
    enabled: true
    base_url: "https://api.coingecko.com/api/v3"
    rate_limit_per_minute: 50
    cache_duration_seconds: 60
  
  binance:
    enabled: true
    base_url: "https://api.binance.com"
    rate_limit_per_minute: 1200
    cache_duration_seconds: 30
  
  coinbase:
    enabled: true
    base_url: "https://api.coinbase.com"
    rate_limit_per_minute: 10000
    cache_duration_seconds: 30

# Crypto symbols to track
crypto_symbols: [BTC, ETH, SOL, XRP, ADA, DOT, AVAX, MATIC]

# ============================================================================
# PRICE ALERTS
# ============================================================================

price_alerts:
  enabled: true
  check_interval_seconds: 30
  alerts:
    - symbol: BTC
      type: above
      threshold: 100000
      notification: true
    - symbol: BTC
      type: below
      threshold: 95000
      notification: true
    - symbol: ETH
      type: above
      threshold: 4000
      notification: true

# ============================================================================
# STRATEGIES CONFIGURATION
# ============================================================================

strategies:
  # Polymarket Arbitrage Strategy
  polymarket_arbitrage:
    enabled: true
    min_profit_margin: 2.0  # Minimum profit margin percentage
    arbitrage_types:
      simple:
        enabled: true
      cross_exchange:
        enabled: true
        min_similarity_score: 0.85
      correlated_markets:
        enabled: true
      time_based:
        enabled: true
      event_driven:
        enabled: true
      reality_based:
        enabled: true
        min_profit_pct: 5.0
        min_confidence: high  # Options: medium, high, very_high
  
  # Crypto Momentum Strategy
  crypto_momentum:
    enabled: false
    symbols: [BTC, ETH, SOL, XRP]
    min_price_change_5m: 2.0
    min_volume_change: 50.0
    min_score: 70.0
  
  # Crypto News Strategy
  crypto_news:
    enabled: false
    volume_spike_threshold: 300.0
    min_price_movement: 5.0
    min_confidence: 70.0
  
  # Crypto Statistical Arbitrage Strategy
  crypto_statistical_arb:
    enabled: false
    min_correlation: 0.7
    z_score_threshold: 2.0
    max_holding_time: 3600

# ============================================================================
# EXCHANGES CONFIGURATION
# ============================================================================

exchanges:
  polymarket:
    enabled: true
  
  predictit:
    enabled: false
  
  kalshi:
    enabled: false
    api_key: "${KALSHI_API_KEY}"
    base_url: "https://trading-api.kalshi.com/trade-api/v2"


# ============================================================================
# STRATEGY COMPETITION SETTINGS
# ============================================================================

# Competition settings
competition:
  enabled: true
  starting_capital: 10000  # Virtual capital per strategy
  
# Data validation
data_validation:
  freshness_threshold: 5  # seconds
  price_discrepancy_threshold: 1.0  # percent
  
# Health monitoring
health_monitoring:
  websocket_timeout: 10  # seconds
  api_slow_threshold: 2000  # milliseconds
  
# Auto-disable thresholds
auto_disable:
  max_daily_loss_pct: 10
  max_consecutive_losses: 5
  max_drawdown_pct: 20
  min_win_rate: 40
  min_trades_for_winrate: 20
  
# Graduation requirements
graduation:
  paper_trading_days: 30
  micro_live_days: 7
  mini_live_days: 14
  
  # Paper trading graduation requirements
  paper:
    min_return_pct: 5.0
    min_sharpe: 1.5
    min_win_rate: 55.0
    max_drawdown: 15.0
    min_trades: 50
